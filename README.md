# DeepRoots Roadmap

## Overview

This repository contains a public-facing roadmap for the DeepRoots project, automatically generated by syncing tasks from a designated Asana project. A GitHub Action runs on a daily schedule, fetching tagged tasks from Asana and organizing them into a `roadmap.json` file. This file is then rendered as a clean, release-based view on the project's webpage.

## How It Works

The system relies on a GitHub Action that triggers a Node.js script (`scripts/sync-asana.js`). This script connects to the Asana API to:

1.  Query all tasks from a specified Asana project.
2.  Filter for tasks that have been explicitly marked for public view with a **"public"** tag.
3.  Group the filtered tasks by a custom Asana field, typically named **"Release"**.
4.  Generate a structured `roadmap.json` file containing the releases and their associated tasks.

This `roadmap.json` is then consumed by the frontend application (`app.js`) to dynamically render the roadmap on the `index.html` page.

## Setup and Configuration

To use this for your own project, you'll need to configure it with your Asana project details and credentials.

### Prerequisites

- An Asana account with API access.
- An Asana **Personal Access Token**.
- The **Project ID** of the Asana project you want to sync.

### Configuration Steps

1.  **Generate an Asana Personal Access Token:**
    - Navigate to your Asana developer console: [app.asana.com/0/developer-console](https://app.asana.com/0/developer-console)
    - Create a new Personal Access Token and securely copy the generated key.

2.  **Find Your Asana Project ID:**
    - Open your project in Asana.
    - The Project ID is the numeric part of the URL (e.g., `https://app.asana.com/0/PROJECT_ID/list`).

3.  **Add GitHub Secrets:**
    - In your GitHub repository, go to **Settings > Secrets and variables > Actions**.
    - Create the following two repository secrets:
      - `ASANA_ACCESS_TOKEN`: Your Asana Personal Access Token.
      - `ASANA_PROJECT_ID`: Your Asana Project ID.

### Task Setup in Asana

For a task to be included in the public roadmap, it must meet two criteria:

1.  It must have a tag named **"public"**.
2.  It should have a custom field (e.g., a dropdown or text field) named **"Release"** that contains the version or release name. Tasks without this field will be grouped under "Unscheduled".

## JSON Data Structure

The `sync-asana.js` script generates the `roadmap.json` file with the following structure:

```json
{
  "lastUpdated": "2025-12-26T00:00:00.000Z",
  "releases": {
    "v1.0": [
      {
        "name": "Task Name",
        "completed": false,
        "notes": "A description of the task.",
        "due_on": "2025-12-31",
        "url": "https://app.asana.com/0/project/task_id"
      }
    ],
    "v2.0": [],
    "Unscheduled": []
  }
}
```

## Manual Workflow Trigger

You can manually trigger the Asana sync at any time:

1.  Go to the **Actions** tab in your GitHub repository.
2.  Select the **"Sync Asana Tasks"** workflow from the list.
3.  Click the **"Run workflow"** button.
